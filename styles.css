
/* --------------------------------------------------
   基礎重置和全域設定
   -------------------------------------------------- */
* {
    margin: 0;                      /* 重置外邊距 */
    padding: 0;                     /* 重置內邊距 */
    box-sizing: border-box;         /* 使用border-box盒模型 */
}

/* --------------------------------------------------
   主體和背景設定
   -------------------------------------------------- */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;  /* 字體設定 */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  /* 漸層背景 */
    min-height: 100vh;              /* 最小高度為視窗高度 */
    padding: 20px;                  /* 內邊距 */
}

/* --------------------------------------------------
   主容器樣式
   -------------------------------------------------- */
.container {
    max-width: 1200px;              /* 最大寬度限制 */
    margin: 0 auto;                 /* 水平置中 */
    background: rgba(255, 255, 255, 0.95);  /* 半透明白色背景 */
    border-radius: 20px;            /* 圓角邊框 */
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);  /* 陰影效果 */
    overflow: hidden;               /* 隱藏溢出內容 */
}

/* --------------------------------------------------
   頁面標題區域
   -------------------------------------------------- */
.header {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);  /* 標題漸層背景 */
    color: white;                   /* 文字顏色 */
    padding: 30px;                  /* 內邊距 */
    text-align: center;             /* 文字置中 */
}

.header h1 {
    font-size: 2.5em;               /* 主標題字體大小 */
    margin-bottom: 10px;            /* 下邊距 */
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);  /* 文字陰影 */
}

/* --------------------------------------------------
   內容區域佈局
   -------------------------------------------------- */
.content {
    padding: 40px;                  /* 內邊距 */
    display: flex;                  /* 彈性佈局 */
    flex-direction: column;         /* 垂直排列 */
    gap: 40px;                      /* 元素間距 */
}

/* --------------------------------------------------
   輸入區域樣式
   -------------------------------------------------- */
.input-section {
    background: #f8f9ff;            /* 淺藍色背景 */
    border-radius: 15px;            /* 圓角邊框 */
    padding: 30px;                  /* 內邊距 */
    border: 2px solid #e1e8ff;      /* 邊框樣式 */
}

/* --------------------------------------------------
   結果顯示區域樣式
   -------------------------------------------------- */
.result-section {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);  /* 橘色漸層背景 */
    border-radius: 15px;            /* 圓角邊框 */
    padding: 30px;                  /* 內邊距 */
    color: #333;                    /* 文字顏色 */
}

/* --------------------------------------------------
   區塊標題樣式
   -------------------------------------------------- */
.section-title {
    font-size: 1.5em;               /* 字體大小 */
    margin-bottom: 20px;            /* 下邊距 */
    color: #4a5568;                 /* 文字顏色 */
    border-bottom: 3px solid #4facfe;  /* 下邊框 */
    padding-bottom: 10px;           /* 下內邊距 */
}

/* --------------------------------------------------
   輸入群組樣式
   -------------------------------------------------- */
.input-group {
    margin-bottom: 25px;            /* 下邊距 */
    background: white;              /* 白色背景 */
    border-radius: 12px;            /* 圓角邊框 */
    padding: 20px;                  /* 內邊距 */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);  /* 輕微陰影 */
}

/* --------------------------------------------------
   輸入標籤樣式
   -------------------------------------------------- */
.input-label {
    font-weight: bold;              /* 粗體字 */
    color: #2d3748;                 /* 文字顏色 */
    margin-bottom: 10px;            /* 下邊距 */
    display: block;                 /* 區塊顯示 */
    font-size: 1.1em;               /* 字體大小 */
}

/* --------------------------------------------------
   模式選擇器樣式
   -------------------------------------------------- */
.mode-selector {
    margin-bottom: 15px;            /* 下邊距 */
}

.mode-selector label {
    margin-right: 20px;             /* 右邊距 */
    font-weight: normal;            /* 正常字重 */
    cursor: pointer;                /* 滑鼠指標 */
    display: inline-flex;           /* 內聯彈性佈局 */
    align-items: center;            /* 垂直置中 */
    gap: 5px;                       /* 元素間距 */
}

.mode-selector input[type="radio"] {
    transform: scale(1.2);          /* 放大單選按鈕 */
}

/* --------------------------------------------------
   輸入欄位樣式
   -------------------------------------------------- */
input[type="text"], input[type="number"] {
    width: 100%;                    /* 全寬 */
    padding: 12px;                  /* 內邊距 */
    border: 2px solid #e2e8f0;      /* 邊框樣式 */
    border-radius: 8px;             /* 圓角邊框 */
    font-size: 16px;                /* 字體大小 */
    transition: all 0.3s ease;      /* 過渡動畫 */
}

/* 輸入欄位焦點狀態 */
input[type="text"]:focus, input[type="number"]:focus {
    outline: none;                  /* 移除預設外框 */
    border-color: #4facfe;          /* 改變邊框顏色 */
    box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);  /* 添加陰影 */
}

/* --------------------------------------------------
   計算按鈕樣式
   -------------------------------------------------- */
.calculate-btn {
    width: 100%;                    /* 全寬 */
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  /* 漸層背景 */
    color: white;                   /* 文字顏色 */
    border: none;                   /* 無邊框 */
    padding: 15px;                  /* 內邊距 */
    border-radius: 10px;            /* 圓角邊框 */
    font-size: 1.2em;               /* 字體大小 */
    font-weight: bold;              /* 粗體字 */
    cursor: pointer;                /* 滑鼠指標 */
    transition: all 0.3s ease;      /* 過渡動畫 */
    margin-top: 20px;               /* 上邊距 */
}

/* 計算按鈕懸停效果 */
.calculate-btn:hover {
    transform: translateY(-2px);    /* 向上移動 */
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);  /* 陰影效果 */
}

/* --------------------------------------------------
   結果顯示區域
   -------------------------------------------------- */
.result-display {
    background: rgba(255, 255, 255, 0.9);  /* 半透明白色背景 */
    border-radius: 12px;            /* 圓角邊框 */
    padding: 25px;                  /* 內邊距 */
    margin-top: 20px;               /* 上邊距 */
}

.result-value {
    font-size: 2.5em;               /* 大字體 */
    font-weight: bold;              /* 粗體字 */
    color: #2d3748;                 /* 文字顏色 */
    text-align: center;             /* 文字置中 */
    margin: 20px 0;                 /* 上下邊距 */
}

/* --------------------------------------------------
   表格容器和表格樣式
   -------------------------------------------------- */
.table-container {
    overflow-x: auto;               /* 水平滾動 */
    max-width: 100%;                /* 最大寬度 */
    border-radius: 8px;             /* 圓角邊框 */
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);  /* 陰影效果 */
    background: white;              /* 白色背景 */
    margin-top: 20px;               /* 上邊距 */
}

.cash-flow-table {
    width: 100%;                    /* 全寬 */
    border-collapse: collapse;      /* 合併邊框 */
    min-width: 800px;               /* 最小寬度確保滾動 */
}

.cash-flow-table th,
.cash-flow-table td {
    padding: 10px 8px;              /* 內邊距 */
    text-align: center;             /* 文字置中 */
    border-bottom: 1px solid #e2e8f0;  /* 下邊框 */
    font-size: 0.9em;               /* 字體大小 */
    white-space: nowrap;            /* 禁止換行 */
}

/* 表格標題行 */
.cash-flow-table th {
    background: #4facfe;            /* 藍色背景 */
    color: white;                   /* 白色文字 */
    font-weight: bold;              /* 粗體字 */
    position: sticky;               /* 固定定位 */
    top: 0;                         /* 固定在頂部 */
    z-index: 10;                    /* 層級設定 */
}

/* 行標題樣式 */
.cash-flow-table .row-header {
    background: #f1f5f9;            /* 淺灰色背景 */
    font-weight: bold;              /* 粗體字 */
    text-align: left;               /* 文字左對齊 */
    padding-left: 15px;             /* 左內邊距 */
    position: sticky;               /* 固定定位 */
    left: 0;                        /* 固定在左側 */
    z-index: 5;                     /* 層級設定 */
    min-width: 120px;               /* 最小寬度 */
    border-right: 2px solid #e2e8f0;  /* 右邊框 */
}

/* 表格行懸停效果 */
.cash-flow-table tr:hover {
    background: #f7fafc;            /* 懸停背景色 */
}

.cash-flow-table tr:hover .row-header {
    background: #e2e8f0;            /* 行標題懸停背景色 */
}

/* --------------------------------------------------
   特殊表格行樣式
   -------------------------------------------------- */
.equipment-detail-row {
    background: #f8f9ff !important;  /* 設備明細行背景 */
}

.net-cash-flow-row {
    background: #f8f9ff !important;  /* 淨現金流行背景 */
    font-weight: bold;              /* 粗體字 */
}

.tax-row {
    background: #fff3cd !important;  /* 所得稅行背景（黃色） */
}

.after-tax-row {
    background: #d1ecf1 !important;  /* 稅後現金流行背景（藍色） */
    font-weight: bold;              /* 粗體字 */
}

/* --------------------------------------------------
   狀態提示樣式
   -------------------------------------------------- */
.loading {
    text-align: center;             /* 文字置中 */
    padding: 20px;                  /* 內邊距 */
    color: #666;                    /* 文字顏色 */
}

.error {
    background: #fed7d7;            /* 錯誤背景色 */
    color: #c53030;                 /* 錯誤文字色 */
    padding: 15px;                  /* 內邊距 */
    border-radius: 8px;             /* 圓角邊框 */
    margin-top: 15px;               /* 上邊距 */
    border-left: 4px solid #c53030;  /* 左邊框 */
}

.success {
    background: #c6f6d5;            /* 成功背景色 */
    color: #22543d;                 /* 成功文字色 */
    padding: 15px;                  /* 內邊距 */
    border-radius: 8px;             /* 圓角邊框 */
    margin-top: 15px;               /* 上邊距 */
    border-left: 4px solid #22543d;  /* 左邊框 */
}

/* --------------------------------------------------
   輔助文字樣式
   -------------------------------------------------- */
.help-text {
    font-size: 0.9em;               /* 較小字體 */
    color: #718096;                 /* 灰色文字 */
    margin-top: 5px;                /* 上邊距 */
    font-style: italic;             /* 斜體字 */
}

/* --------------------------------------------------
   模式內容顯示控制
   -------------------------------------------------- */
.mode-content {
    transition: all 0.3s ease;      /* 過渡動畫 */
}

.mode-content.hidden {
    display: none;                  /* 隱藏元素 */
}

/* --------------------------------------------------
   年度輸入容器
   -------------------------------------------------- */
.year-input-container {
    display: flex;                  /* 彈性佈局 */
    gap: 10px;                      /* 元素間距 */
    align-items: center;            /* 垂直置中 */
}

.year-input-container input {
    flex: 1;                        /* 彈性擴展 */
}

.year-input-container span {
    font-weight: bold;              /* 粗體字 */
    color: #4a5568;                 /* 文字顏色 */
}

/* --------------------------------------------------
   設備費用計算區域
   -------------------------------------------------- */
.equipment-grid {
    display: grid;                  /* 網格佈局 */
    grid-template-columns: 1fr 1fr; /* 兩欄等寬 */
    gap: 10px;                      /* 網格間距 */
    margin-bottom: 15px;            /* 下邊距 */
}

.equipment-grid > div {
    display: flex;                  /* 彈性佈局 */
    flex-direction: column;         /* 垂直排列 */
}

.equipment-grid label {
    font-size: 0.9em;               /* 較小字體 */
    color: #4a5568;                 /* 文字顏色 */
    margin-bottom: 5px;             /* 下邊距 */
    font-weight: normal;            /* 正常字重 */
}

/* --------------------------------------------------
   設備費用計算結果顯示區域
   -------------------------------------------------- */
.equipment-result-box {
    background: #f0f9ff;            /* 淺藍色背景 */
    border: 1px solid #bae6fd;      /* 邊框樣式 */
    border-radius: 8px;             /* 圓角邊框 */
    padding: 15px;                  /* 內邊距 */
    margin-top: 10px;               /* 上邊距 */
}

.equipment-formula {
    font-weight: bold;              /* 粗體字 */
    color: #0c4a6e;                 /* 深藍色文字 */
    margin-bottom: 8px;             /* 下邊距 */
}

.equipment-formula-detail {
    font-size: 0.9em;               /* 較小字體 */
    color: #0c4a6e;                 /* 深藍色文字 */
    margin-bottom: 8px;             /* 下邊距 */
}

.equipment-result {
    font-weight: bold;              /* 粗體字 */
    color: #1e40af;                 /* 藍色文字 */
    font-size: 1.1em;               /* 較大字體 */
}

/* --------------------------------------------------
   年份範圍調整桿樣式
   -------------------------------------------------- */
.range-slider-container {
    margin: 10px 0;
    padding: 12px;
    background: #f8f9ff;
    border-radius: 6px;
    border: 1px solid #e1e8ff;
}

.range-slider-container label {
    display: block;
    font-weight: bold;
    color: #4a5568;
    margin-bottom: 10px;
}

.year-range-slider {
    position: relative;
    height: 20px;
    margin: 10px 0;
    background: #e2e8f0;
    border-radius: 10px;
    max-width: 50%;
}

.year-range-slider input[type="range"] {
    position: absolute;
    width: 100%;
    height: 4px;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    pointer-events: none;
}

.year-range-slider input[type="range"]::-webkit-slider-track {
    width: 100%;
    height: 4px;
    background: transparent;
    border-radius: 2px;
}

.year-range-slider input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    background: #4facfe;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    pointer-events: all;
    position: relative;
    z-index: 2;
}

.year-range-slider input[type="range"]::-moz-range-track {
    width: 100%;
    height: 4px;
    background: transparent;
    border-radius: 2px;
    border: none;
}

.year-range-slider input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #4facfe;
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    pointer-events: all;
}

/* 第二個調整桿的樣式（結束年份） - 保持同一顏色 */
.year-range-slider input[type="range"]:last-child::-webkit-slider-thumb {
    background: #4facfe;
}

.year-range-slider input[type="range"]:last-child::-moz-range-thumb {
    background: #4facfe;
}

.year-range-inputs {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 8px;
}

.year-range-inputs input {
    width: 70px;
    padding: 4px 6px;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-align: center;
    font-size: 13px;
}

.year-range-inputs span {
    color: #666;
    font-weight: bold;
}

/* --------------------------------------------------
   響應式設計 - 手機版
   -------------------------------------------------- */
@media (max-width: 768px) {
    .header h1 {
        font-size: 2em;              /* 縮小主標題字體 */
    }
    
    .result-value {
        font-size: 2em;              /* 縮小結果數值字體 */
    }

    .cash-flow-table {
        font-size: 0.8em;            /* 縮小表格字體 */
    }

    .cash-flow-table th,
    .cash-flow-table td {
        padding: 6px 4px;            /* 縮小表格內邊距 */
    }

    .equipment-grid {
        grid-template-columns: 1fr;  /* 手機版改為單欄 */
    }
}